//! 内核运行平台常量配置模块
//! # Overview
//! 本模块定义与硬件架构相关的常量，用于内核初始化和硬件访问。
//! 包括 CPU 时钟频率和内存映射的 MMIO 区域。
//!
//! # Design
//! - `CLOCK_FREQ`：CPU 时钟频率，用于定时器和时间管理。
//! - `MMIO`：内存映射 I/O 区域列表，每个元素为 `(base_address, size)`。
//!   上层驱动和外设访问使用这些地址进行寄存器映射。
//!
//! # Assumptions
//! - CPU 时钟频率固定为 12.5 MHz。
//! - MMIO 地址和大小符合硬件规范，内核可安全访问。
//!
//! # Safety
//! - 访问 MMIO 地址必须保证地址合法，避免非法内存访问。
//! - 这些常量仅定义，不涉及运行时副作用。
//!
//! # Invariants
//! - `CLOCK_FREQ` 恒定不变，用于计算定时器触发。
//! - `MMIO` 列表中的每个 `(地址, 大小)` 不重叠，保证安全映射。

/// CPU 时钟频率
///
/// # Overview
/// - 单位：Hz
/// - 用于定时器计算和时间管理
pub const CLOCK_FREQ: usize = 12500000;

/// 内存映射 I/O 区域
///
/// # Overview
/// - 每个元组 `(base, size)` 表示一个 MMIO 区域
/// - 前者为起始地址，后者为区域大小（字节）
pub const MMIO: &[(usize, usize)] = &[
    // 前者为地址，后者为大小
    // `UARTO` 串口设备 `mmio` 地址，用于打印日志
    (0x1000_0000, 0x1000),
    // `VirtIO` 虚拟磁盘设备 `mmio`地址，用于读写文件
    (0x1000_1000, 0x1000),
    // `PLIC` 中断控制设备 `mmio`地址，用于处理外部事件
    (0xC00_0000, 0x40_0000),
];
